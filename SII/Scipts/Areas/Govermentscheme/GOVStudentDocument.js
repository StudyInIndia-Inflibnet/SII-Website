function page_event_Document() { Select_Document(), SelectData_student_image(), page_click_Document() } function page_click_Document() { $("#btncustdoccancel").on("click", function (e) { clear_Document() }), $("#btncustomerdocsave").on("click", function (e) { e.preventDefault(); var t = $("#frmstudentdocumenation"); if (t.parsley().validate(), !t.parsley().isValid()) return !1; var n = $(this); n.text("Processing..."), n.addClass("disabled"); var a = $("#uploaddocumentcustomer").get(0); if (void 0 === window.FormData) return swal("", "No file has been selected.", "warning"), n.text("Save"), n.removeClass("disabled"), !1; if (!($("#uploaddocumentcustomer").get(0).files.length > 0)) return swal("", "No file has been selected.", "warning"), n.text("Save"), n.removeClass("disabled"), !1; var o = $("#uploaddocumentcustomer").get(0).files[0].size, s = ["pdf"]; if (-1 == $.inArray($("#uploaddocumentcustomer").val().split(".").pop().toLowerCase(), s)) return swal("", "Only formats are allowed : " + s.join(", "), "error"), n.text("Save"), void n.removeClass("disabled"); if (!($("#hdnfilesize").val() >= o)) return swal("", "5 Mb file size allow", "warning"), n.text("Save"), void n.removeClass("disabled"); for (var i = a.files, r = new FormData, d = 0; d < i.length; d++)r.append(i[d].name, i[d]); r.append("document_name", $("#txtdocumentname").val()), $.ajax({ method: "POST", url: "/GovernmentSchemeAdmission/Students/Savestudentdocument", data: r, async: !1, cache: !1, contentType: !1, processData: !1, success: function (e) { } }).done(function (e) { "true" == e.flag.toString().toLowerCase() && (swal({ title: "Success!", text: "Document saved successfully.", type: "success", closeOnConfirm: !0, confirmButtonText: "OK", confirmButtonClass: "btn-primary", showLoaderOnConfirm: !0 }).then(function () { clear_Document(), Select_Document() }), n.text("Save"), n.removeClass("disabled")) }).error(function () { $(".loading").hide(), swal("Oops...!", "Something went wrong! Please try again."), n.text("Save"), n.removeClass("disabled") }) }), $("#btnprofilepic").on("click", function (e) { e.preventDefault(); var t = $("#frmuploadimage"); if (t.parsley().validate(), !t.parsley().isValid()) return !1; var n = $(this); n.text("Processing..."), n.addClass("disabled"); var a = $("#udpFile").get(0); if (void 0 !== window.FormData && $("#udpFile").get(0).files.length > 0) { var o = $("#udpFile").get(0).files[0].size, s = ["png", "jpg", "jpeg"]; if (-1 == $.inArray($("#udpFile").val().split(".").pop().toLowerCase(), s)) return swal("", "Only formats are allowed : " + s.join(", "), "error"), n.text("Save"), void n.removeClass("disabled"); if (!($("#hdnfilesize").val() >= o)) return swal("", "5 Mb file size allow", "warning"), n.text("Save"), void n.removeClass("disabled") } for (var i = a.files, r = new FormData, d = 0; d < i.length; d++)r.append(i[d].name, i[d]); $.ajax({ method: "POST", url: "/GovernmentSchemeAdmission/Students/uploadstudentimage", data: r, async: !1, cache: !1, contentType: !1, processData: !1, success: function (e) { } }).done(function (e) { "true" == e.flag.toString().toLowerCase() && (swal({ title: "Success!", text: "Studnet Image Uploaded Successfully", type: "success", closeOnConfirm: !0, confirmButtonText: "OK", confirmButtonClass: "btn-primary", showLoaderOnConfirm: !0 }).then(function () { SelectData_student_image(), Select_Document() }), n.text("Save"), n.removeClass("disabled")) }).error(function () { swal("Oops...!", "Something went wrong! Please try again."), n.text("Save"), n.removeClass("disabled") }) }), $("#tbodydocument").on("click", ".btnGridDelete", function (e) { e.preventDefault(); var t = $(this).attr("data-id"); swal({ title: "Are you sure?", text: "You will not be able to recover this data!", type: "", closeOnConfirm: !0, showCancelButton: !0, confirmButtonText: "Yes, delete it!", confirmButtonClass: "btn-warning", showLoaderOnConfirm: !0 }).then(function () { $.ajax({ method: "POST", url: $("#hdfBaseUrl").val() + "GovernmentSchemeAdmission/Students/Delete_studentdocument", data: { document_id: t }, success: function (e) { } }).done(function (e) { Select_Document(), swal("Success!", "Your data has been deleted.") }).error(function () { swal("Oops...!", "Something went wrong from our side.") }) }) }) } function clear_Document() { $("#txtdocumentname").val(""), $("#uploaddocumentcustomer").val("") } function Select_Document() { $("#tbodydocument").html(""), $.ajax({ method: "POST", async: !1, url: "/GovernmentSchemeAdmission/Students/Select_studentdocument", success: function (e) { } }).done(function (e) { var t = 1; $.each(e.List, function (e, n) { var a = $("<tr></tr>"); a.append("<td>" + t++ + "</td>"), a.append("<td>" + n.document_name + "</td>"), editbtn = '<a href="' + n.document_path + '" class="btn btn-rounded btn-space btn-warning btnGridEditRoleMapping" type="button" target="_blank" >View </a>', deletebtn = '<a data-id="' + n.document_id + '" class="btn btn-rounded btn-space btn-danger btnGridDelete" type="button" target="_blank" >Delete </a>', a.append("<td>" + editbtn + " " + deletebtn + "</td>"), $("#tbodydocument").append(a) }), e.student_path.length > 0 && $("#imgProfile").attr("src", e.student_path) }).error(function () { swal("Oops...!", "Something went wrong! Please try again.") }) } function SelectData_student_image() { $.ajax({ method: "POST", url: "/GovernmentSchemeAdmission/Students/SelectStudent_Basic" }).done(function (e) { $.each(e.List, function (e, t) { "" != t.student_path && $("#imgProfile").attr("src", t.student_path) }) }).error(function () { }) } $(document).ready(function () { page_event_Document() });