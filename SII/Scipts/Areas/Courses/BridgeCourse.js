function page_event_bridgeCourse() { page_click_bridgeCourse() } function validation() { $(".totalseatbridge").on("change", function () { var e = $("#txtBridgefeeswaiverg1").val(), t = $("#txtBridgefeeswaiverg2").val(), r = $("#txtBridgefeeswaiverg3").val(), a = $("#txtBridgefeeswaiverg4").val(), n = parseInt(e) + parseInt(t) + parseInt(r) + parseInt(a); parseInt($("#txtBridgeNumberOfSeats").val()) != parseInt(n) && swal("Warning.!", "Sum of Tuition Fee Waiver seat can't greater than total seat offer by institue") }) } function page_click_bridgeCourse() { $("#btnNewBridgeCourse").on("click", function (e) { $("#frmBridgeCourses").trigger("reset"), $("#divhideshowBridgeCourses").show(), $("#hdfBridgeID").val(0), ClearBridge() }), $("#btnSaveBridgeCourse").on("click", function (e) { e.preventDefault(); var t = $("#frmBridgeCourses"); if (t.parsley().validate(), !t.parsley().isValid()) return !1; var r = $("#txtBridgefeeswaiverg1").val(), a = $("#txtBridgefeeswaiverg2").val(), n = $("#txtBridgefeeswaiverg3").val(), i = $("#txtBridgefeeswaiverg4").val(), o = parseInt(r) + parseInt(a) + parseInt(n) + parseInt(i); if (parseInt($("#txtBridgeNumberOfSeats").val()) != parseInt(o)) return swal("Warning.!", "Sum of Tuition Fee Waiver seat can't greater than total seat offer by institue"), !1; var s = $(this); s.addClass("disabled"), s.text("Processing..."), $.ajax({ method: "POST", url: $("#hdfBaseUrl").val() + "Institute/Courses/SaveBridgeCourse", data: t.serialize(), async: !1 }).done(function (e) { "false" == e.flag.toString().toLowerCase() ? (swal("Oops...!", "Something went wrong! Please try again."), s.text("Save"), s.removeClass("disabled")) : swal({ title: "Success!", text: "Data saved successfully", type: "", closeOnConfirm: !0, confirmButtonText: "OK", confirmButtonClass: "btn-primary", showLoaderOnConfirm: !0 }).then(function () { ClearBridge(), Select_BridgeCourse() }), s.removeClass("disabled"), s.text("Save") }).error(function () { swal("Oops...!", "Please try after some time"), s.text("Save"), s.removeClass("disabled") }) }), $("#tbodyBridgeCourse").on("click", ".btnGridEdit", function () { var e = $(this); $.ajax({ method: "get", async: !1, url: "/Institute/Courses/SelectBridgeCourse", data: { ID: e.attr("data-id") }, success: function (e) { } }).done(function (e) { var t = e.List[0]; $("#divhideshowBridgeCourses").show(), $("#hdfBridgeID").val(t.ID), $("#txtCourseName").val(t.CourseName), $("#DrpLanguage").val(t.Language), $("#txtDuration").val(t.Duration), $("#DrpDurationType").val(t.DurationType), $("#txtBridgeNumberOfSeats").val(t.NumberOfSeats), $("#txtBridgeSAARC").val(t.FeesForSAARCCountry), $("#txtBridgeNonSAARC").val(t.FeesForNonSAARCCountry), $("#txtBridgeClassrooms").val(t.ClassRoomHours), $("#txtBridgefeeswaiverg1").val(t.G1SeatWaiver), $("#txtBridgefeeswaiverg2").val(t.G2SeatWaiver), $("#txtBridgefeeswaiverg3").val(t.G3SeatWaiver), $("#txtBridgefeeswaiverg4").val(t.G4SeatWaiver), $("#drpSAARCFeesCurrencyBridge").val(t.FeesForSAARCCountryCurrency), $("#drpNonSAARCCurrencyBridge").val(t.FeesForNonSAARCCountryCurrency), $("#DrpTypeOfFees").val(t.TypeOfFees), $("#txttotalfeebridgecoursecurrency").val(t.TotalFeesBridgeCourseCurrency), $("#txttotalfeebridgecourse").val(t.TotalFeesBridgeCourse) }).error(function () { swal("Oops...!", "Something went wrong! Please try again.") }) }), $("#tbodyBridgeCourse").on("click", ".btnDelete", function () { var e = $(this).attr("data-id"); swal({ title: "Are you sure?", text: "You will not be able to recover this data!", type: "", closeOnConfirm: !0, showCancelButton: !0, confirmButtonText: "Yes, delete it!", confirmButtonClass: "btn-warning", showLoaderOnConfirm: !0 }).then(function () { $.ajax({ method: "POST", url: "/Institute/Courses/DeleteBridgeCourse", data: { ID: e }, success: function (e) { } }).done(function (e) { Select_BridgeCourse(), swal("Success!", "Your data has been deleted.") }).error(function () { swal("Oops...!", "Something went wrong from our side.") }) }) }), $("#btnCancelBridgeCourse").on("click", function (e) { ClearBridge(), $("#divhideshowBridgeCourses").hide() }) } function ClearBridge() { $("#DrpLanguage").val(""), $("#txtCourseName").val(""), $("#txtDuration").val(""), $("#DrpDurationType").val(""), $("#txtBridgeNumberOfSeats").val(""), $("#txtBridgeSAARC").val(""), $("#txtBridgeNonSAARC").val(""), $("#txtBridgeClassrooms").val(""), $("#txtBridgefeeswaiverg1").val(""), $("#txtBridgefeeswaiverg2").val(""), $("#txtBridgefeeswaiverg3").val(""), $("#txtBridgefeeswaiverg4").val(""), $("#drpSAARCFeesCurrencyBridge").val(""), $("#drpNonSAARCCurrencyBridge").val(""), $("#DrpTypeOfFees").val(""), $("#txttotalfeebridgecoursecurrency").val(""), $("#txttotalfeebridgecourse").val("") } function Fill_Dropdown_language() { $.ajax({ method: "POST", url: "/Institute/Courses/SelectLanguage", async: !1 }).done(function (e) { $("#DrpLanguage").html(""), $("#DrpLanguage").prepend('<option value="">--Select--</option>'), $.each(e.List, function (e, t) { $("#DrpLanguage").append('<option value="' + t.Language_Id + '">' + t.language + "</option>") }) }).error(function () { $("#DrpLanguage").html(""), $("#DrpLanguage").append('<option value="">-Select-</option>') }), $("#DrpLanguage").val(0) } function Fill_Dropdown_DurationType() { $.ajax({ method: "POST", url: "/Institute/Courses/SelectDurationType", async: !1 }).done(function (e) { $("#DrpDurationType").html(""), $("#DrpDurationType").prepend('<option value="">--Select--</option>'), $.each(e.List, function (e, t) { $("#DrpDurationType").append('<option value="' + t.Duration_Id + '">' + t.DurationName + "</option>") }) }).error(function () { $("#DrpDurationType").html(""), $("#DrpDurationType").append('<option value="">-Select-</option>') }), $("#DrpDurationType").val(0) } function Select_BridgeCourse() { $("#tbodyBridgeCourse").html(""), $.ajax({ method: "GET", async: !1, url: "/Institute/Courses/SelectBridgeCourse", success: function (e) { } }).done(function (e) { var t = 1; $.each(e.List, function (e, r) { var a = $("<tr></tr>"); a.append("<td>" + t++ + "</td>"), a.append("<td>" + r.CourseName + "</td>"), editbtn = '<button class="btn btn-success btnGridEdit" title="Edit" data-toggle="tooltip" type="button" data-id="' + r.ID + '" ><i class="glyphicon glyphicon-pencil"></i></button>', deletebtn = '<a class="btn btn-danger btnDelete" title="Delete" data-toggle="tooltip" data-id="' + r.ID + '"><i class="glyphicon glyphicon-trash"></i></a>', a.append("<td>" + editbtn + "&nbsp;" + deletebtn + "</td>"), $("#tbodyBridgeCourse").append(a) }) }).error(function () { swal("Oops...!", "Something went wrong! Please try again.") }) } $(document).ready(function () { page_event_bridgeCourse(), Fill_Dropdown_language(), Fill_Dropdown_DurationType(), Select_BridgeCourse() });