function page_init_video_gallery() { fill_grid_video_gallery() } function page_click_video_gallery() { $("#btnCancelVideo").on("click", function (e) { e.preventDefault(), $("#hdfVideoID").val("0"), $("#drpVideoCategoryID").val(""), $("#txtVideoURL").val(""), $("#txtVideoDescription").val("") }), $("#btnNewVideo").on("click", function (e) { e.preventDefault(), $("#hdfVideoID").val("0"), $("#drpVideoCategoryID").val(""), $("#txtVideoURL").val(""), $("#txtVideoDescription").val("") }), $("#btnSaveVideo").on("click", function (e) { e.preventDefault(); var t = $("#frmVideoGallery"); if (t.parsley().validate(), !t.parsley().isValid()) return !1; var a = $(this); a.addClass("disabled"), a.text("Processing..."), $.ajax({ method: "POST", url: $("#hdfBaseUrl").val() + "Institute/Gallery/Save_Institute_Video_Gallery", data: t.serialize(), success: function (e) { } }).done(function (e) { "false" == e.flag.toString().toLowerCase() ? swal("Oops...!", "Something went wrong! Please try again.") : swal({ title: "Success!", text: "Data saved successfully", type: "", closeOnConfirm: !0, confirmButtonText: "OK", confirmButtonClass: "btn-primary", showLoaderOnConfirm: !0 }).then(function () { $("#btnCancelVideo").trigger("click"), fill_grid_video_gallery() }), a.removeClass("disabled"), a.text("Save") }).error(function () { swal("Oops...!", "Please try after some time"), a.text("Save"), a.removeClass("disabled") }), a.removeClass("disabled"), a.text("Save") }), $("#tbodyVideoGallery").on("click", ".btnEdit", function (e) { e.preventDefault(); var t = $(this).attr("data-id"); $.ajax({ method: "GET", url: $("#hdfBaseUrl").val() + "Institute/Gallery/Select_Institute_Video_Gallery", data: { ID: t } }).done(function (e) { $.each(e.List, function (e, t) { $("#hdfVideoID").val(t.ID), $("#drpVideoCategoryID").val(t.CategoryID), $("#txtVideoURL").val(t.VideoURL), $("#txtVideoDescription").val(t.Description) }) }).error(function () { swal("Oops...!", "Please try after some time"), btn.text("Save"), btn.removeClass("disabled") }) }), $("#tbodyVideoGallery").on("click", ".btnDelete", function (e) { var t = $(this).attr("data-id"); swal({ title: "Are you sure?", text: "You will not be able to recover this data!", type: "", closeOnConfirm: !0, showCancelButton: !0, confirmButtonText: "Yes, delete it!", confirmButtonClass: "btn-warning", showLoaderOnConfirm: !0 }).then(function () { $.ajax({ method: "POST", url: $("#hdfBaseUrl").val() + "Institute/Gallery/Delete_Institute_Video_Gallery", data: { ID: t }, success: function (e) { } }).done(function (e) { fill_grid_video_gallery(), swal("Success!", "Your data has been deleted.") }).error(function () { swal("Oops...!", "Something went wrong from our side.") }) }) }) } function fill_grid_video_gallery() { $.ajax({ method: "GET", url: $("#hdfBaseUrl").val() + "Institute/Gallery/Select_Institute_Video_Gallery" }).done(function (e) { $("#tbodyVideoGallery").html(""); var t = 1; if (e.List.length > 0) $.each(e.List, function (e, a) { var i = $("<tr></tr>"); i.append("<td>" + t++ + "</td>"), i.append("<td>" + a.CategoryName.toString() + "</td>"), i.append('<td><a href="' + a.VideoURL.toString() + '" target="_blank">' + a.VideoURL.toString() + "</a></td>"), i.append("<td>" + a.Description.toString() + "</td>"); var l = '<a class="btn btn-success btnEdit" data-id="' + a.ID + '"><i class="glyphicon glyphicon-pencil"></i></a>', o = '<a class="btn btn-danger btnDelete" data-id="' + a.ID + '"><i class="glyphicon glyphicon-trash"></i></a>'; i.append("<td>" + l + " " + o + "</td>"), $("#tbodyVideoGallery").append(i) }); else { var a = $("<tr></tr>"); a.append('<td colspan="4">No data available.</td>'), $("#tbodyVideoGallery").append(a) } }).error(function () { swal("Oops...!", "Please try after some time"), btn.text("Save"), btn.removeClass("disabled") }) } $(document).ready(function () { page_click_video_gallery(), page_init_video_gallery() });