function page_init_life_on_campus() { fill_campus_life_on_campus() } function page_click_life_on_campus() { $("#btnSaveLifeOnCampus").on("click", function (e) { e.preventDefault(); var t = $("#frmLifeOnCampus"); if (t.parsley().validate(), !t.parsley().isValid()) return !1; var a = $(this); a.addClass("disabled"), a.text("Processing..."); var s = $("#fuNewsletter").get(0); if (void 0 !== window.FormData && $("#fuNewsletter").get(0).files.length > 0) { $("#fuNewsletter").get(0).files[0].size; if (-1 == $.inArray($("#fuNewsletter").val().split(".").pop().toLowerCase(), ["pdf"])) return swal("", "Only pdf file is allowed.", "error"), a.text("Save"), void a.removeClass("disabled") } for (var n = s.files, i = new FormData, l = 0; l < n.length; l++)i.append(n[l].name, n[l]); i.append("InstituteID", $("#hdfInstituteID").val()), i.append("SportArea", $("#txtLifeOnCampusSportArea").val()), i.append("TypesOfSportsCurrentlyPlayed", $("#txtLifeOnCampusTypesOfSportsCurrentlyPlayed").val()), i.append("SportAccomplishments", $("#txtLifeOnCampusSportAccomplishments").val()), i.append("MusicInstruments", $("#txtLifeOnCampusMusicInstruments").val()), i.append("MusicAccomplishments", $("#txtLifeOnCampusMusicAccomplishments").val()), i.append("AcademicBodie", $("#txtLifeOnCampusAcademicBodie").val()), i.append("FestivalsConductedByStudents", $("#txtLifeOnCampusFestivalsConductedByStudents").val()), i.append("EventsCompetitions", $("#txtLifeOnCampusEventsCompetitions").val()), i.append("OfficialEvents", $("#txtLifeOnCampusOfficialEvents").val()), i.append("__RequestVerificationToken", $('input[name="__RequestVerificationToken"]', t).val()), $.ajax({ method: "POST", url: $("#hdfBaseUrl").val() + "Institute/Campus/Save_Campus_Life_On_Campus", data: i, async: !1, cache: !1, contentType: !1, processData: !1, success: function (e) { } }).done(function (e) { "false" == e.flag.toString().toLowerCase() ? (swal("Oops...!", "Something went wrong! Please try again."), a.text("Save"), a.removeClass("disabled")) : swal("Success!", "Data saved successfully."), a.removeClass("disabled"), a.text("Save"), fill_campus_life_on_campus() }).error(function () { swal("Oops...!", "Please try after some time"), a.text("Save"), a.removeClass("disabled") }), a.removeClass("disabled"), a.text("Save") }) } function fill_campus_life_on_campus() { $.ajax({ method: "GET", url: $("#hdfBaseUrl").val() + "Institute/Campus/Select_Campus_Life_On_Campus" }).done(function (e) { $.each(e.List, function (e, t) { $("#hdfID").val(t.ID), $("#txtLifeOnCampusSportArea").val(t.SportArea), $("#txtLifeOnCampusTypesOfSportsCurrentlyPlayed").val(t.TypesOfSportsCurrentlyPlayed), $("#txtLifeOnCampusSportAccomplishments").val(t.SportAccomplishments), $("#txtLifeOnCampusMusicInstruments").val(t.MusicInstruments), $("#txtLifeOnCampusMusicAccomplishments").val(t.MusicAccomplishments), $("#txtLifeOnCampusAcademicBodie").val(t.AcademicBodie), $("#txtLifeOnCampusFestivalsConductedByStudents").val(t.FestivalsConductedByStudents), $("#txtLifeOnCampusEventsCompetitions").val(t.EventsCompetitions), $("#txtLifeOnCampusOfficialEvents").val(t.OfficialEvents), "" != t.NewsLatters.toString() ? ($("#divNewslatter").show(), $("#btnNewsletter").attr("href", $("#hdfBaseUrl").val() + t.NewsLatters.toString())) : ($("#divNewslatter").hide(), $("#btnNewsletter").removeAttr("href")) }) }).error(function () { swal("Oops...!", "Please try after some time"), btn.text("Save"), btn.removeClass("disabled") }) } function fill_state() { $("#drpstate").html(""), $("#drpstate").html("Loading..."), $.ajax({ method: "POST", url: "/Master/State/Select_State", async: !1, data: { country_id: 1 } }).done(function (e) { $("#drpstate").html(""), $("#drpstate").prepend('<option value="">--Select--</option>'), $.each(e.List, function (e, t) { $("#drpstate").append('<option value="' + t.state_id + '">' + t.state_name + "</option>") }) }).error(function () { $("#drpstate").html(""), $("#drpstate").append('<option value="">-Select-</option>') }) } $(document).ready(function () { page_click_life_on_campus(), page_init_life_on_campus() });