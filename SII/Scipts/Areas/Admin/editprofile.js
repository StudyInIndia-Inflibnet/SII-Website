function page_event() { $("#frmprofile *").prop("disabled", !0), $("#btnedit").prop("disabled", !1), page_click(), page_validation() } function page_validation() { $(".datetimepicker").datepicker({ orientation: "left", autoclose: !0, dateFormat: "dd-mm-yy", yearRange: "1900:" + ((new Date).getFullYear() + 20), todayHighlight: !1, changeMonth: !0, changeYear: !0 }) } function page_click() { $("#btnedit").on("click", function () { $("#frmprofile *").prop("disabled", !1), $("#txtStudentID").prop("disabled", !0), $("#btnedit").prop("disabled", !0), $("#btnsave").prop("disabled", !1) }), $("#btnsave").on("click", function (t) { t.preventDefault(); var e = $("#frmprofile"); if (e.parsley().validate(), !e.parsley().isValid()) return !1; var a = $(this); a.text("Processing..."), $.ajax({ method: "POST", url: $("#hdfBaseUrl").val() + "Admin/ProfileMngt/SaveProfile", data: e.serialize(), async: !1, success: function (t) { } }).done(function (t) { "1" == t.count.toString() ? swal({ title: "Success!", text: "Data saved successfully.", type: "success", closeOnConfirm: !0, confirmButtonText: "OK", confirmButtonClass: "btn-primary", showLoaderOnConfirm: !0 }).then(function () { a.text("Redirecting..."), window.location.href = $("#hdfBaseUrl").val() + "Admin/ProfileMngt" }) : "2" == t.count.toString() ? (swal({ title: "warning!", text: "Mobile Number Already Registered.", type: "warning", closeOnConfirm: !0, confirmButtonText: "OK", confirmButtonClass: "btn-primary", showLoaderOnConfirm: !0 }), a.text("Save"), a.removeClass("disabled")) : "3" == t.count.toString() ? (swal({ title: "warning!", text: "Email-id Already Registered.", type: "warning", closeOnConfirm: !0, confirmButtonText: "OK", confirmButtonClass: "btn-primary", showLoaderOnConfirm: !0 }), a.text("Save"), a.removeClass("disabled")) : (swal({ title: "Error!", text: "Data has not been saved. Please try again.", type: "error", closeOnConfirm: !0, confirmButtonText: "OK", confirmButtonClass: "btn-primary", showLoaderOnConfirm: !0 }), a.text("Save"), a.removeClass("disabled")) }).error(function () { swal("Opps...!", "Something went wrong! Please try again."), a.text("Save"), a.removeClass("disabled") }) }) } $(document).ready(function () { page_event(), $.ajax({ method: "POST", url: "/Admin/ProfileMngt/SELECT_EDITPROFILE" }).done(function (t) { $.each(t.List, function (t, e) { $("#txtFirstName").val(e.FirstName), $("#txtMiddleName").val(e.MiddleName), $("#txtLastName").val(e.LastName), $("#txtEmail").val(e.Email), $("#txtMobile").val(e.Mobile), $("#txtDateOfBirth").val(e.DateOfBirth), $("#drpCountryofStay").val(e.Country), $("#txtStudentID").val(e.StudentID) }) }) });